{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../loggin-service/toggle-login.service\";\nimport * as i2 from \"../data-storage-service/data-storage.service\";\nimport * as i3 from \"../http-forced/http.service\";\nimport * as i4 from \"@angular/forms\";\nexport class LoginPageComponent {\n  constructor(toggle, data, httpservice) {\n    this.toggle = toggle;\n    this.data = data;\n    this.httpservice = httpservice;\n    this.responseText = \"\";\n    this.loginRequests = 0;\n  }\n  formOnSubmit(formData) {\n    console.log(formData);\n    let result = this.loginRequestInit(formData.value.ID, formData.value.pass, {});\n    console.log(result);\n  }\n  setUserAuthentifiction(value) {\n    this.data.userAuthentification = value;\n  }\n  loginRequestInit(IDParam, passParam, data) {\n    let reqObj = {\n      command: \"login\",\n      cmdArg: \"login\",\n      comeBack: data.comeBack,\n      Box: data.Box,\n      Pos: data.Pos,\n      userAuthentification: {\n        ID: IDParam,\n        Prenom: \"\",\n        Nom: \"\",\n        genre: \"\",\n        naissance: \"\",\n        pass: passParam,\n        superadmin: false,\n        admin: false,\n        user: false\n      }\n    };\n    console.log(reqObj);\n    let aparent = this;\n    if (aparent.data.userAuthentification.ID.trim() == \"\" && aparent.data.userAuthentification.pass.trim() == \"\") aparent.httpservice.requestBaseStandardBeta(reqObj).subscribe(response => {\n      console.log(response);\n      aparent.loginRequests = aparent.loginRequests++;\n      if (response !== undefined && response !== null) {\n        let castResponse = response;\n        if (castResponse.comeBack) {\n          //comeBack:true,Box: data.Box,Pos: data.Pos\n          aparent.responseText = \"Le serveur est entrain de charger. Veuillez réessayer ensuite.\";\n          if (aparent.loginRequests < 25) {\n            if (aparent.loginRequests % 20 == 0) {\n              /*\n              let d2:Date = new Date();\n              let d1:Date = new Date();\n              while(d1.getTime() - d2.getTime() < 500)\n              {\n                  d1 = new Date();\n              }\n              */\n            }\n            let d2 = new Date();\n            let d1 = new Date();\n            while (d1.getTime() - d2.getTime() < 500) {\n              d1 = new Date();\n            }\n            console.log(IDParam + \" IDParam\");\n            aparent.loginRequestInit(IDParam, passParam, {\n              comeBack: castResponse.comeBack,\n              Box: castResponse.Box,\n              Pos: castResponse.Pos\n            });\n          } else {\n            aparent.loginRequests = 0;\n            aparent.responseText = \"Le serveur est entrain de charger. Veuillez réessayer ensuite.\";\n          }\n        } else if (castResponse.first != undefined && castResponse.first) {\n          /*console.log(\"Login Sucks!\");\n          console.log(\"--------------Log data---------------\");\n          console.log(aparent.data.userAuthentification);\n          console.log(\"--------------Log data---------------\");\n          */\n          aparent.data.userAuthentification = castResponse.element;\n          aparent.setUserAuthentifiction(castResponse.element);\n          aparent.toggle.toggle = false;\n          aparent.responseText = \"OK\";\n          /*\n          console.log(\"--------------Log data---------------\");\n          console.log(aparent.data.userAuthentification);\n          console.log(\"--------------Log data---------------\");\n          */\n          //aparent.getRequestCallBack(aparent.httpservice,aparent));\n          //aparent.loginToggle.responseString = \"OK\";\n        } else if (!castResponse.first) {\n          if (castResponse.third) {\n            if (aparent.loginRequests < 100) {\n              aparent.responseText = \"Le serveur est entrain de charger.Veuillez patienter\" + (aparent.loginRequests <= 30 ? \".\" : aparent.loginRequests <= 60 ? \"..\" : aparent.loginRequests > 60 ? \"...\" : \"\");\n              if (aparent.loginRequests % 50 == 0) {\n                let d2 = new Date();\n                let d1 = new Date();\n                while (d1.getTime() - d2.getTime() < 80) {\n                  d1 = new Date();\n                }\n              }\n              aparent.loginRequestInit(IDParam, passParam, {});\n            } else {\n              aparent.loginRequests = 0;\n              //aparent.loginToggle.responseString = \"Erreur au niveau du serveur veuillez réessayer plus tard.\";\n              aparent.responseText = \"Erreur au niveau du serveur. Veuillez réessayer plus tard.\";\n            }\n          } else {\n            //aparent.loginToggle.responseString = \"Mauvaise combinaison de mot de passe et ID.\";\n            aparent.responseText = \"Mauvaise combinaison de mot de passe et ID.\";\n          }\n        }\n      }\n    }, error => {\n      aparent.responseText = error.error.text;\n      console.log(error);\n    });else aparent.loginRequests = 0;\n  }\n  static #_ = this.ɵfac = function LoginPageComponent_Factory(t) {\n    return new (t || LoginPageComponent)(i0.ɵɵdirectiveInject(i1.ToggleLoginService), i0.ɵɵdirectiveInject(i2.DataStorageService), i0.ɵɵdirectiveInject(i3.HttpService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginPageComponent,\n    selectors: [[\"app-login-page\"]],\n    decls: 18,\n    vars: 1,\n    consts: [[\"id\", \"titleBar\", 1, \"horizontal\"], [\"id\", \"parent1\", 1, \"parent\"], [\"id\", \"loginForm\", \"ngNativeValidate\", \"\", 3, \"ngSubmit\"], [\"f1\", \"ngForm\"], [\"id\", \"formDivTagged\", 1, \"formDiv\"], [\"for\", \"text1\"], [\"type\", \"text\", \"name\", \"ID\", \"id\", \"text1\", \"required\", \"\", \"ngModel\", \"\", 1, \"basicinputlook\"], [\"for\", \"pwd1\"], [\"type\", \"password\", \"name\", \"pass\", \"id\", \"pwd1\", \"required\", \"\", \"ngModel\", \"\", 1, \"basicinputlook\"], [\"type\", \"submit\", \"id\", \"sb1\", 1, \"submit\"], [2, \"color\", \"orange\"]],\n    template: function LoginPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtext(1, \"Page d'authentification des renseignments pour MSA\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"form\", 2, 3);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginPageComponent_Template_form_ngSubmit_3_listener() {\n          i0.ɵɵrestoreView(_r1);\n          const _r0 = i0.ɵɵreference(4);\n          return i0.ɵɵresetView(ctx.formOnSubmit(_r0));\n        });\n        i0.ɵɵelementStart(5, \"h1\");\n        i0.ɵɵtext(6, \"S'identifier\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 5);\n        i0.ɵɵtext(9, \"ID?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 6);\n        i0.ɵɵelementStart(11, \"label\", 7);\n        i0.ɵɵtext(12, \"Mot de passe?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 8);\n        i0.ɵɵelementStart(14, \"button\", 9);\n        i0.ɵɵtext(15, \"Soumettre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"span\", 10);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(17);\n        i0.ɵɵtextInterpolate(ctx.responseText);\n      }\n    },\n    dependencies: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n    styles: [\"form[_ngcontent-%COMP%]\\n{\\n\\tmargin-left: auto;\\n\\tmargin-right: auto;\\n\\twidth: 70%;\\n\\tbackground-color: white;\\n\\tborder-width: 1px;\\n\\tborder-color: silver;\\n\\tborder-style:solid;\\n\\tpadding: 5%;\\n\\tborder-radius:20px;\\n\\ttext-align: center;\\n}\\n\\ndiv.horizontal[_ngcontent-%COMP%]\\n{\\n\\tmargin-top:-10px;\\n\\tpadding: 20px;\\n\\tbackground-image: linear-gradient(to right, blue, silver);\\n\\tcolor: white;\\n\\tfont-style: Arial, Helvetica, sans-serif;\\n\\tfont-size: 18px;\\n\\ttext-align: center;\\n}\\n\\n.formDiv[_ngcontent-%COMP%]\\n{\\n\\tfont-style: Arial, Helvetica, sans-serif;\\n\\tdisplay:inline-grid;\\n\\tcolumn-count: 2;\\n\\tgrid-column-start:1;\\n\\tgrid-column-end: 2;\\n\\tgrid-template-columns: auto auto;\\n\\trow-gap: 20px;\\n\\tcolumn-gap: 5%;\\n\\tmargin:auto;\\n}\\n\\n\\n.form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]\\n{\\n\\tfont-size: 16px;\\n}\\n\\nh1[_ngcontent-%COMP%] \\n{\\n\\tcolor: blue;\\n\\ttext-align: center;\\n}\\n.submit[_ngcontent-%COMP%]\\n{\\n\\tbackground-color: blue;\\n\\tcolor: white;\\n\\twidth: 120px;\\n\\tgrid-column: 1 / span 2;\\n\\tpadding-top: 5px;\\n\\tpadding-bottom: 5px;\\n\\tborder-radius: 5px 5px 5px 5px;\\n\\tborder-color:white;\\n\\ttext-align: center;\\n}\\n.submit[_ngcontent-%COMP%]:hover\\n{\\n\\tcursor:pointer;\\n}\\n\\n.basicInputLook[_ngcontent-%COMP%]\\n{\\n\\twidth: 120px; \\n\\tmargin-left: 20px;\\n}\\n\\n.parent[_ngcontent-%COMP%]\\n{\\n\\tpadding: 40px;\\n\\tbackground-image: linear-gradient(to right,blue,silver );\\n\\theight: 75vh;\\n}\\n\\n@media screen and (max-width:430px)\\n{\\n\\t#text1[_ngcontent-%COMP%]\\n\\t{\\n\\t\\twidth: 83%;\\n\\t\\tmargin-left: 0%;\\n\\t\\tmargin-right: 2%;\\n\\t\\tcolor: green;\\n\\t}\\n\\t#pwd1[_ngcontent-%COMP%]\\n\\t{\\n\\t\\twidth: 83%;\\n\\t\\tmargin-left: 0%;\\n\\t\\tmargin-right: 2%;\\n\\t\\tcolor: green;\\n\\t}\\n\\t#parent1[_ngcontent-%COMP%]\\n\\t{\\n\\t\\twidth: 95%;\\n\\t\\tpadding: 5%;\\n\\t}\\n\\th1[_ngcontent-%COMP%]\\n\\t{\\n\\t\\tfont-size: 20px;\\n\\t}\\n}\\n\\n@media screen and (max-width: 330px) \\n{\\n\\t#parent1[_ngcontent-%COMP%]\\n\\t{\\n\\t\\twidth: 100%;\\n\\t\\tpadding: 5% 0% 0% 0%;\\n\\t}\\n\\t#loginForm[_ngcontent-%COMP%]\\n\\t{\\n\\t\\twidth: 100%;\\n\\t\\tpadding: 0%;\\n\\t\\tmargin-left: 5px;\\n\\t\\tbackground: none;\\n\\t\\tborder: none;\\n\\t\\tfont-size: 12px;\\n\\t\\tcolor: green;\\n\\t}\\n\\t#titleBar[_ngcontent-%COMP%]\\n\\t{\\n\\t\\tfont-size: 16px;\\n\\t}\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4tcGFnZS9sb2dpbi1wYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBOztDQUVDLGlCQUFpQjtDQUNqQixrQkFBa0I7Q0FDbEIsVUFBVTtDQUNWLHVCQUF1QjtDQUN2QixpQkFBaUI7Q0FDakIsb0JBQW9CO0NBQ3BCLGtCQUFrQjtDQUNsQixXQUFXO0NBQ1gsa0JBQWtCO0NBQ2xCLGtCQUFrQjtBQUNuQjs7QUFFQTs7Q0FFQyxnQkFBZ0I7Q0FDaEIsYUFBYTtDQUNiLHlEQUF5RDtDQUN6RCxZQUFZO0NBQ1osd0NBQXdDO0NBQ3hDLGVBQWU7Q0FDZixrQkFBa0I7QUFDbkI7O0FBRUE7O0NBRUMsd0NBQXdDO0NBQ3hDLG1CQUFtQjtDQUNuQixlQUFlO0NBQ2YsbUJBQW1CO0NBQ25CLGtCQUFrQjtDQUNsQixnQ0FBZ0M7Q0FDaEMsYUFBYTtDQUNiLGNBQWM7Q0FDZCxXQUFXO0FBQ1o7OztBQUdBOztDQUVDLGVBQWU7QUFDaEI7O0FBRUE7O0NBRUMsV0FBVztDQUNYLGtCQUFrQjtBQUNuQjtBQUNBOztDQUVDLHNCQUFzQjtDQUN0QixZQUFZO0NBQ1osWUFBWTtDQUNaLHVCQUF1QjtDQUN2QixnQkFBZ0I7Q0FDaEIsbUJBQW1CO0NBQ25CLDhCQUE4QjtDQUM5QixrQkFBa0I7Q0FDbEIsa0JBQWtCO0FBQ25CO0FBQ0E7O0NBRUMsY0FBYztBQUNmOztBQUVBOztDQUVDLFlBQVk7Q0FDWixpQkFBaUI7QUFDbEI7O0FBRUE7O0NBRUMsYUFBYTtDQUNiLHdEQUF3RDtDQUN4RCxZQUFZO0FBQ2I7O0FBRUE7O0NBRUM7O0VBRUMsVUFBVTtFQUNWLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsWUFBWTtDQUNiO0NBQ0E7O0VBRUMsVUFBVTtFQUNWLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsWUFBWTtDQUNiO0NBQ0E7O0VBRUMsVUFBVTtFQUNWLFdBQVc7Q0FDWjtDQUNBOztFQUVDLGVBQWU7Q0FDaEI7QUFDRDs7QUFFQTs7Q0FFQzs7RUFFQyxXQUFXO0VBQ1gsb0JBQW9CO0NBQ3JCO0NBQ0E7O0VBRUMsV0FBVztFQUNYLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixlQUFlO0VBQ2YsWUFBWTtDQUNiO0NBQ0E7O0VBRUMsZUFBZTtDQUNoQjtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmZvcm1cclxue1xyXG5cdG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cdG1hcmdpbi1yaWdodDogYXV0bztcclxuXHR3aWR0aDogNzAlO1xyXG5cdGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG5cdGJvcmRlci13aWR0aDogMXB4O1xyXG5cdGJvcmRlci1jb2xvcjogc2lsdmVyO1xyXG5cdGJvcmRlci1zdHlsZTpzb2xpZDtcclxuXHRwYWRkaW5nOiA1JTtcclxuXHRib3JkZXItcmFkaXVzOjIwcHg7XHJcblx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5kaXYuaG9yaXpvbnRhbFxyXG57XHJcblx0bWFyZ2luLXRvcDotMTBweDtcclxuXHRwYWRkaW5nOiAyMHB4O1xyXG5cdGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgYmx1ZSwgc2lsdmVyKTtcclxuXHRjb2xvcjogd2hpdGU7XHJcblx0Zm9udC1zdHlsZTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuXHRmb250LXNpemU6IDE4cHg7XHJcblx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uZm9ybURpdlxyXG57XHJcblx0Zm9udC1zdHlsZTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuXHRkaXNwbGF5OmlubGluZS1ncmlkO1xyXG5cdGNvbHVtbi1jb3VudDogMjtcclxuXHRncmlkLWNvbHVtbi1zdGFydDoxO1xyXG5cdGdyaWQtY29sdW1uLWVuZDogMjtcclxuXHRncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gYXV0bztcclxuXHRyb3ctZ2FwOiAyMHB4O1xyXG5cdGNvbHVtbi1nYXA6IDUlO1xyXG5cdG1hcmdpbjphdXRvO1xyXG59XHJcblxyXG5cclxuLmZvcm0gaDFcclxue1xyXG5cdGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5cclxuaDEgXHJcbntcclxuXHRjb2xvcjogYmx1ZTtcclxuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuLnN1Ym1pdFxyXG57XHJcblx0YmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcclxuXHRjb2xvcjogd2hpdGU7XHJcblx0d2lkdGg6IDEyMHB4O1xyXG5cdGdyaWQtY29sdW1uOiAxIC8gc3BhbiAyO1xyXG5cdHBhZGRpbmctdG9wOiA1cHg7XHJcblx0cGFkZGluZy1ib3R0b206IDVweDtcclxuXHRib3JkZXItcmFkaXVzOiA1cHggNXB4IDVweCA1cHg7XHJcblx0Ym9yZGVyLWNvbG9yOndoaXRlO1xyXG5cdHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uc3VibWl0OmhvdmVyXHJcbntcclxuXHRjdXJzb3I6cG9pbnRlcjtcclxufVxyXG5cclxuLmJhc2ljSW5wdXRMb29rXHJcbntcclxuXHR3aWR0aDogMTIwcHg7IFxyXG5cdG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG59XHJcblxyXG4ucGFyZW50XHJcbntcclxuXHRwYWRkaW5nOiA0MHB4O1xyXG5cdGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCxibHVlLHNpbHZlciApO1xyXG5cdGhlaWdodDogNzV2aDtcclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo0MzBweClcclxue1xyXG5cdCN0ZXh0MVxyXG5cdHtcclxuXHRcdHdpZHRoOiA4MyU7XHJcblx0XHRtYXJnaW4tbGVmdDogMCU7XHJcblx0XHRtYXJnaW4tcmlnaHQ6IDIlO1xyXG5cdFx0Y29sb3I6IGdyZWVuO1xyXG5cdH1cclxuXHQjcHdkMVxyXG5cdHtcclxuXHRcdHdpZHRoOiA4MyU7XHJcblx0XHRtYXJnaW4tbGVmdDogMCU7XHJcblx0XHRtYXJnaW4tcmlnaHQ6IDIlO1xyXG5cdFx0Y29sb3I6IGdyZWVuO1xyXG5cdH1cclxuXHQjcGFyZW50MVxyXG5cdHtcclxuXHRcdHdpZHRoOiA5NSU7XHJcblx0XHRwYWRkaW5nOiA1JTtcclxuXHR9XHJcblx0aDFcclxuXHR7XHJcblx0XHRmb250LXNpemU6IDIwcHg7XHJcblx0fVxyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAzMzBweCkgXHJcbntcclxuXHQjcGFyZW50MVxyXG5cdHtcclxuXHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0cGFkZGluZzogNSUgMCUgMCUgMCU7XHJcblx0fVxyXG5cdCNsb2dpbkZvcm1cclxuXHR7XHJcblx0XHR3aWR0aDogMTAwJTtcclxuXHRcdHBhZGRpbmc6IDAlO1xyXG5cdFx0bWFyZ2luLWxlZnQ6IDVweDtcclxuXHRcdGJhY2tncm91bmQ6IG5vbmU7XHJcblx0XHRib3JkZXI6IG5vbmU7XHJcblx0XHRmb250LXNpemU6IDEycHg7XHJcblx0XHRjb2xvcjogZ3JlZW47XHJcblx0fVxyXG5cdCN0aXRsZUJhclxyXG5cdHtcclxuXHRcdGZvbnQtc2l6ZTogMTZweDtcclxuXHR9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["LoginPageComponent","constructor","toggle","data","httpservice","responseText","loginRequests","formOnSubmit","formData","console","log","result","loginRequestInit","value","ID","pass","setUserAuthentifiction","userAuthentification","IDParam","passParam","reqObj","command","cmdArg","comeBack","Box","Pos","Prenom","Nom","genre","naissance","superadmin","admin","user","aparent","trim","requestBaseStandardBeta","subscribe","response","undefined","castResponse","d2","Date","d1","getTime","first","element","third","error","text","_","i0","ɵɵdirectiveInject","i1","ToggleLoginService","i2","DataStorageService","i3","HttpService","_2","selectors","decls","vars","consts","template","LoginPageComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginPageComponent_Template_form_ngSubmit_3_listener","ɵɵrestoreView","_r1","_r0","ɵɵreference","ɵɵresetView","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate"],"sources":["C:\\Users\\Mamadou\\Documents\\GitHub\\BroadAppsDeleted\\Bases MSA\\src\\app\\login-page\\login-page.component.ts","C:\\Users\\Mamadou\\Documents\\GitHub\\BroadAppsDeleted\\Bases MSA\\src\\app\\login-page\\login-page.component.html"],"sourcesContent":["import { Component,Input } from '@angular/core';\nimport { ToggleLoginService } from '../loggin-service/toggle-login.service'\nimport {HttpService} from '../http-forced/http.service';\nimport {DataStorageService} from '../data-storage-service/data-storage.service'\nimport {LoginResponse,UserData,Base} from '../year-employee-model/year-employee-model';\n\n@Component({\n  selector: 'app-login-page',\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.css']\n})\n\nexport class LoginPageComponent \n{\n\n\tpublic responseText:string = \"\";\n\tloginRequests:number = 0;\n\tconstructor(public toggle:ToggleLoginService,public data:DataStorageService,public httpservice: HttpService)\n\t{\n\t\t\n\t}\n\t\n\n\tpublic formOnSubmit(formData:any)\n\t{\n\t\tconsole.log(formData);\n\t\tlet result = this.loginRequestInit(formData.value.ID,formData.value.pass,{}) ;\n\t\tconsole.log(result);\n\t}\n\t\n\tpublic setUserAuthentifiction(value:UserData)\n\t{\n\t\tthis.data.userAuthentification = value;\n\t}\n\t\n\tpublic loginRequestInit(IDParam:string,passParam:string,data:any)\n\t{\n\t\tlet reqObj = {command: \"login\" , cmdArg: \"login\",comeBack:data.comeBack,Box: data.Box,Pos: data.Pos,userAuthentification:{ID: IDParam,Prenom:\"\",Nom:\"\",genre:\"\",naissance:\"\",pass:passParam,superadmin:false,admin:false,user:false}};\n\t\tconsole.log(reqObj);\n\t\tlet aparent:LoginPageComponent = this;\n\t\tif(aparent.data.userAuthentification.ID.trim() == \"\" && aparent.data.userAuthentification.pass.trim() == \"\")\n\t\taparent.httpservice.requestBaseStandardBeta(reqObj).subscribe((response)=>\n\t\t{\n\t\t\tconsole.log(response);\n\t\t\taparent.loginRequests = aparent.loginRequests++;\n\t\t\t\n\t\t\tif(response !== undefined && response !== null)\n\t\t\t{\n\t\t\t\tlet castResponse = response as LoginResponse;\n\t\t\t\t\n\t\t\t\tif(castResponse.comeBack)\n\t\t\t\t{\n\t\t\t\t\t//comeBack:true,Box: data.Box,Pos: data.Pos\n\t\t\t\t\taparent.responseText = \"Le serveur est entrain de charger. Veuillez réessayer ensuite.\";\n\t\t\t\t\tif(aparent.loginRequests < 25)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(aparent.loginRequests % 20 == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tlet d2:Date = new Date();\n\t\t\t\t\t\t\tlet d1:Date = new Date();\n\t\t\t\t\t\t\twhile(d1.getTime() - d2.getTime() < 500)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\td1 = new Date();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet d2:Date = new Date();\n\t\t\t\t\t\tlet d1:Date = new Date();\n\t\t\t\t\t\twhile(d1.getTime() - d2.getTime() < 500)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\td1 = new Date();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log(IDParam +\" IDParam\");\n\t\t\t\t\t\taparent.loginRequestInit(IDParam,passParam,{comeBack:castResponse.comeBack,Box:castResponse.Box,Pos:castResponse.Pos});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\taparent.loginRequests = 0;\n\t\t\t\t\t\taparent.responseText = \"Le serveur est entrain de charger. Veuillez réessayer ensuite.\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(castResponse.first != undefined && castResponse.first)\n\t\t\t\t{\n\t\t\t\t\t/*console.log(\"Login Sucks!\");\n\t\t\t\t\tconsole.log(\"--------------Log data---------------\");\n\t\t\t\t\tconsole.log(aparent.data.userAuthentification);\n\t\t\t\t\tconsole.log(\"--------------Log data---------------\");\n\t\t\t\t\t*/\n\t\t\t\t\taparent.data.userAuthentification = castResponse.element;\n\t\t\t\t\taparent.setUserAuthentifiction(castResponse.element);\n\t\t\t\t\taparent.toggle.toggle = false;\n\t\t\t\t\taparent.responseText = \"OK\";\n\t\t\t\t\t/*\n\t\t\t\t\tconsole.log(\"--------------Log data---------------\");\n\t\t\t\t\tconsole.log(aparent.data.userAuthentification);\n\t\t\t\t\tconsole.log(\"--------------Log data---------------\");\n\t\t\t\t\t*/\n\t\t\t\t\t//aparent.getRequestCallBack(aparent.httpservice,aparent));\n\t\t\t\t\t//aparent.loginToggle.responseString = \"OK\";\n\t\t\t\t}\n\t\t\t\telse if(!castResponse.first)\n\t\t\t\t{\n\t\t\t\t\tif(castResponse.third)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(aparent.loginRequests < 100)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taparent.responseText = \"Le serveur est entrain de charger.Veuillez patienter\"+((aparent.loginRequests<= 30)?\".\":(aparent.loginRequests<=60)?\"..\":(aparent.loginRequests>60)?\"...\":\"\");\n\t\t\t\t\t\t\tif(aparent.loginRequests % 50 == 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlet d2:Date = new Date();\n\t\t\t\t\t\t\t\tlet d1:Date = new Date();\n\t\t\t\t\t\t\t\twhile(d1.getTime() - d2.getTime() < 80)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\td1 = new Date();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taparent.loginRequestInit(IDParam,passParam,{});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taparent.loginRequests = 0;\n\t\t\t\t\t\t//aparent.loginToggle.responseString = \"Erreur au niveau du serveur veuillez réessayer plus tard.\";\n\t\t\t\t\t\t\taparent.responseText = \"Erreur au niveau du serveur. Veuillez réessayer plus tard.\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t//aparent.loginToggle.responseString = \"Mauvaise combinaison de mot de passe et ID.\";\n\t\t\t\t\t\taparent.responseText = \"Mauvaise combinaison de mot de passe et ID.\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} \n\t\t}\n\t\t,(error) =>\n\t\t{\n\t\t\taparent.responseText = error.error.text;\n\t\t\tconsole.log(error);\n\t\t});\n\t\telse\n\t\t\taparent.loginRequests = 0;\n\t}\n}\n","<div class=\"horizontal\" id=\"titleBar\">Page d'authentification des renseignments pour MSA</div>\n<div class=\"parent\" id=\"parent1\" >\n<form #f1=\"ngForm\" (ngSubmit)=\"formOnSubmit(f1)\" id=\"loginForm\" ngNativeValidate>\n<h1>S'identifier</h1>\n<div class =\"formDiv\" id=\"formDivTagged\">\n<label for=\"text1\">ID?</label>\n<input type=\"text\" class =\"basicinputlook\" name=\"ID\" id=\"text1\" required ngModel>\n<label for = \"pwd1\">Mot de passe?</label>\n<input type=\"password\" class =\"basicinputlook\" name=\"pass\" id=\"pwd1\" required ngModel>\n<button type=\"submit\" class=\"submit\" id = \"sb1\">Soumettre</button>\n<span style=\"color:orange\">{{responseText}}</span>\n</div>\n</form>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}