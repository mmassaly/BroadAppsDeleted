{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Mamadou/Documents/GitHub/BroadAppsDeleted/Bases MSA - Reeses/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ExceljsService } from '../exceljs.service';\nexport let OfficeFormComponent = class OfficeFormComponent {\n  constructor(httpservice, data) {\n    this.httpservice = httpservice;\n    this.data = data;\n    this.notLinking = true;\n    this.displayID = \"all\";\n    this.fileupload = undefined;\n    this.fileupload2 = undefined;\n    this.responseString = \"\";\n    this.Color = \"silver\";\n    this.submissionRequests = 0;\n    this.r1_checked = true;\n    this.r2_checked = false;\n    this.s3_valid = false;\n    this.s4_valid = false;\n    this.s4_selected_index = 0;\n    this.toggled = false;\n    this.maintableToggled = false;\n    this.generatedRelations = [];\n    this.selectedID = \"1\";\n    this.objectKeysFunction = Object.keys;\n    this.type_correcter = {\n      \"text\": \"Texte\",\n      \"password\": \"Mot de passe\",\n      \"Integer\": \"Nombre entier\",\n      \"Date\": \"Date\"\n    };\n    this.modelDic = {\n      ID: \"\",\n      baseID: \"\"\n    };\n    this.rowHovered = undefined;\n    this.newBase = false;\n    this.baseColumns = [{\n      value: \"\",\n      index: 0,\n      submitting: false\n    }];\n    this.c1 = false;\n    this.c2 = true;\n    this.c3 = false;\n    this.c3data = {\n      submitting: false,\n      responseString: \"\",\n      response: false\n    };\n    this.addingRowsDone = {\n      count: 0,\n      submitting: true,\n      responseString: \"\"\n    };\n    this.ourHeaders = {};\n    this.swappingStack = [];\n    this.updatingInputs = {\n      count: 0,\n      submitting: true,\n      responseString: \"\"\n    };\n    this.xcelService = new ExceljsService();\n    this.choices = [\"aucun\", \"filtre\", \"relation\"];\n    this.functions = [\"aucun\", \"si egal\", \"si sup\", \"si inf\", \"si supegal\", \"si infegal\", \"multiplier\", \"diviser\", \"ajouter\", \"soustraire\", \"puissance\"];\n    this.functionsId = {\n      \"multiplier\": \"X\",\n      \"diviser\": \"/\",\n      \"ajouter\": \"+\",\n      \"soustraire\": \"-\",\n      \"puissance\": \"^\"\n    };\n    this.ifFunctionsDic = {\n      \"si egal\": [\"vrai\", \"faux\", \"autre\"]\n    };\n    this.ifFunctionsConnector = [\"=\", \"et\", \"ou\"];\n    this.groupFunctions = [\"comptes\", \"comptes et pourcentages\"];\n    this.selectConnector = 'selectconnector';\n    setInterval(() => {\n      console.log(data);\n      console.log(\"Toggle \" + this.toggled + \"....\");\n    }, 2000);\n    if (data.userAuthentification.user) this.displayID = data.userAuthentification.ID;\n  }\n  submitFunctionBasic(b, source) {\n    if (this.c2) {\n      let formdata = new FormData();\n      for (const [key, value] of Object.entries(this.data.dicSubmittedOnDisplay[source.srcElement.name].values)) {\n        if (key != \"idDisplayer\" && key != \"id\" && key != \"idindividu\" && key != \"prenom\" && key != \"nom\" && key != \"genre\" && key != \"image\") formdata.append(key, value);\n        console.log(key);\n        console.log(value);\n      }\n      if (formdata.get(\"id\") == undefined) {\n        formdata.append(\"id\", this.selectedID);\n      }\n      if (formdata.get(\"idindividu\") == undefined) {\n        formdata.append(\"idindividu\", this.data.userAuthentification.ID);\n      }\n      formdata.append(\"index\", this.data.dicSubmittedOnDisplay[source.srcElement.name].index);\n      formdata.append(\"table\", this.data.base.tables[this.selectedID].name);\n      formdata.append(\"command\", \"update\");\n      formdata.append(\"cmdArg\", \"addrows\");\n      formdata.append(\"authID\", this.data.userAuthentification.ID);\n      formdata.append(\"authPrenom\", this.data.userAuthentification.Prenom);\n      formdata.append(\"authNom\", this.data.userAuthentification.Nom);\n      formdata.append(\"authGenre\", this.data.userAuthentification.genre);\n      formdata.append(\"authpass\", this.data.userAuthentification.pass);\n      console.log(source.srcElement.name + \" ..........submitting\");\n      console.log(this.data.dicSubmittedOnDisplay[source.srcElement.name]);\n      this.data.dicSubmittedOnDisplay[source.srcElement.name].submitting = true;\n      this.getRequestCallBack(this.httpservice, formdata, this, this.data.dicSubmittedOnDisplay[source.srcElement.name]);\n      //let b = this.data.dicSubmittedOnDisplay[source.srcElement.name].index;\n      //this.flipOthers(this.selectedID,b,false,this.data.onDisplay[this.selectedID].elements[b]);\n    }\n  }\n\n  submitFunction(formvalue, form, source) {\n    let addindividual = this.notLinking;\n    console.log(source);\n    if (this.c1) {\n      //console.log(formvalue);\n      let formdata = new FormData();\n      for (const [key, value] of Object.entries(formvalue)) {\n        if (key != \"employeeID\" && key != \"baseIDPrime\") {\n          if (key == \"imgname\" && this.fileupload != undefined) {\n            formdata.append(\"imgfile\", this.fileupload, this.fileupload.name);\n            formdata.append(\"imagename\", \"assets/images/\" + this.fileupload.name);\n            console.log(value);\n          } else if (key == \"type\") {\n            formdata.append(key + \"1\", value == \"1\" ? 'true' : 'false');\n            formdata.append(key + \"2\", value == \"4\" ? 'true' : 'false');\n          } else formdata.append(key, value);\n        }\n        console.log(key + \" \" + value);\n      }\n      formdata.append(\"table\", \"DouDous'individuals\");\n      formdata.append(\"table2\", \"DouDous correspondance\");\n      formdata.append(\"command\", \"update\");\n      formdata.append(\"cmdArg\", addindividual ? \"addindividual\" : \"linkindividualtobase\");\n      formdata.append(\"authID\", this.data.userAuthentification.ID);\n      formdata.append(\"authPrenom\", this.data.userAuthentification.Prenom);\n      formdata.append(\"authNom\", this.data.userAuthentification.Nom);\n      formdata.append(\"authGenre\", this.data.userAuthentification.genre);\n      formdata.append(\"authpass\", this.data.userAuthentification.pass);\n      console.log(formvalue);\n      this.getRequestCallBack(this.httpservice, formdata, this, undefined);\n    } else if (this.c2) {\n      let formdata = new FormData();\n      for (const [key, value] of Object.entries(formvalue)) {\n        if (key != \"idDisplayer\") formdata.append(key, value);\n        console.log(key);\n        console.log(value);\n      }\n      if (formdata.get(\"id\") == undefined) {\n        formdata.append(\"id\", this.selectedID);\n      }\n      if (formdata.get(\"idindividu\") == undefined) {\n        formdata.append(\"idindividu\", this.data.userAuthentification.ID);\n      }\n      formdata.append(\"index\", this.data.dicSubmittedOnDisplay[source.srcElement.name].index);\n      formdata.append(\"table\", this.data.base.tables[this.selectedID].name);\n      formdata.append(\"command\", \"update\");\n      formdata.append(\"cmdArg\", \"addrows\");\n      formdata.append(\"authID\", this.data.userAuthentification.ID);\n      formdata.append(\"authPrenom\", this.data.userAuthentification.Prenom);\n      formdata.append(\"authNom\", this.data.userAuthentification.Nom);\n      formdata.append(\"authGenre\", this.data.userAuthentification.genre);\n      formdata.append(\"authpass\", this.data.userAuthentification.pass);\n      console.log(source.srcElement.name + \" ..........submitting\");\n      console.log(this.data.dicSubmittedOnDisplay[source.srcElement.name]);\n      this.data.dicSubmittedOnDisplay[source.srcElement.name].submitting = true;\n      this.getRequestCallBack(this.httpservice, formdata, this, this.data.dicSubmittedOnDisplay[source.srcElement.name]);\n      //let b = this.data.dicSubmittedOnDisplay[source.srcElement.name].index;\n      //this.flipOthers(this.selectedID,b,false,this.data.onDisplay[this.selectedID].elements[b]);\n    } else if (this.c3) {\n      let formdata = new FormData();\n      this.c3data.submitting = true;\n      for (const [key, value] of Object.entries(formvalue)) {\n        if (key == \"imgname\" && this.fileupload2 != undefined) {\n          formdata.append(\"imgfile\", this.fileupload2, this.fileupload2.name);\n          formdata.append(\"imagename\", \"assets/images/\" + this.fileupload2.name);\n        } else formdata.append(key, value);\n      }\n      formdata.append(\"table\", \"DouDous'bases\");\n      formdata.append(\"command\", \"update\");\n      formdata.append(\"cmdArg\", \"addbase\");\n      formdata.append(\"authID\", this.data.userAuthentification.ID);\n      formdata.append(\"authPrenom\", this.data.userAuthentification.Prenom);\n      formdata.append(\"authNom\", this.data.userAuthentification.Nom);\n      formdata.append(\"authGenre\", this.data.userAuthentification.genre);\n      formdata.append(\"authpass\", this.data.userAuthentification.pass);\n      this.getRequestCallBack(this.httpservice, formdata, this, this.c3data);\n    }\n  }\n  getRequestCallBack(ahttpservice, formvalue, officefc, submissionNotifier) {\n    officefc.submissionRequests++;\n    console.log(\"Why are you so stubbordn...\" + officefc.submissionRequests);\n    ahttpservice.requestBaseInitFormBeta(formvalue).subscribe(responseValue => {\n      let response = responseValue;\n      console.log(responseValue);\n      console.log(response);\n      try {\n        if (response.comeBack) {\n          if (formvalue.get(\"comeBack\") == undefined) {\n            formvalue.append(\"comeBack\", response.comeBack.toString());\n          }\n          if (formvalue.get(\"Box\") == undefined) {\n            formvalue.append(\"Box\", response.Box.toString());\n          }\n          if (formvalue.get(\"Pos\") == undefined) {\n            formvalue.append(\"Pos\", response.Pos.toString());\n          }\n          if (officefc.submissionRequests < 100) {\n            officefc.responseString = \"Le serveur est entrain de charger.Veuillez patienter\" + (officefc.submissionRequests <= 30 ? \".\" : officefc.submissionRequests <= 60 ? \"..\" : officefc.submissionRequests > 60 ? \"...\" : \"\");\n            /*if(officefc.submissionRequests % 50 == 0)\n            {\n                let d2:Date = new Date();\n                let d1:Date = new Date();\n                while(d1.getTime() - d2.getTime() < 50)\n                {\n                    d1 = new Date();\n                }\n            }*/\n            setTimeout(officefc.getRequestCallBack, 750, officefc.httpservice, formvalue, officefc);\n          } else {\n            officefc.submissionRequests = 0;\n            //aparent.loginToggle.responseString = \"Erreur au niveau du serveur veuillez réessayer plus tard.\";\n            officefc.responseString = \"Erreur au niveau du serveur. Veuillez réessayer encore.\";\n          }\n        } else if (response.third) {\n          if (officefc.submissionRequests < 100) {\n            officefc.responseString = \"Le serveur est entrain de charger.Veuillez patienter\" + (officefc.submissionRequests <= 30 ? \".\" : officefc.submissionRequests <= 60 ? \"..\" : officefc.submissionRequests > 60 ? \"...\" : \"\");\n            if (officefc.submissionRequests % 50 == 0) {\n              let d2 = new Date();\n              let d1 = new Date();\n              while (d1.getTime() - d2.getTime() < 50) {\n                d1 = new Date();\n              }\n            }\n            officefc.getRequestCallBack(officefc.httpservice, formvalue, officefc, submissionNotifier);\n          } else {\n            officefc.submissionRequests = 0;\n            //aparent.loginToggle.responseString = \"Erreur au niveau du serveur veuillez réessayer plus tard.\";\n            officefc.responseString = \"Erreur au niveau du serveur. Veuillez réessayer encore.\";\n          }\n        } else if (response.customtext == \"IDExistant\") {\n          officefc.responseString = \"ajout échoué. L'ID choisit existe déja\";\n        } else if (response.customtext == \"OK\") {\n          if (!submissionNotifier) officefc.responseString = \"ajout passé.\";else {\n            submissionNotifier.responseString = \"ajout passé\";\n            if (submissionNotifier.count == undefined) {\n              submissionNotifier.submitting = false;\n              submissionNotifier.success = true;\n            } else if (submissionNotifier.count > 0) {\n              submissionNotifier.count -= 1;\n              if (submissionNotifier == 0) {\n                submissionNotifier.success = true;\n                submissionNotifier.submitting = false;\n              }\n            }\n          }\n        } else {\n          if (!submissionNotifier) officefc.responseString = response.text;else {\n            if (response.customtext == \"Error\") {\n              submissionNotifier.responseString = response.text;\n            }\n            if (submissionNotifier.count == undefined) {\n              submissionNotifier.submitting = false;\n              submissionNotifier.success = true;\n            } else if (submissionNotifier.count > 0) {\n              submissionNotifier.count -= 1;\n              if (submissionNotifier == 0) {\n                submissionNotifier.submitting = false;\n                submissionNotifier.success = true;\n              }\n            }\n          }\n        }\n      } catch (ex) {}\n    }, responseValue => {\n      console.log(responseValue);\n      if (responseValue.status == 500) {\n        if (!submissionNotifier) officefc.responseString = \"ajout échoué.\";else {\n          submissionNotifier.responseString = \"ajout échoué.\";\n          if (submissionNotifier.count == undefined) {\n            submissionNotifier.submitting = false;\n            submissionNotifier.success = true;\n          } else if (submissionNotifier.count > 0) {\n            submissionNotifier.count -= 1;\n            if (submissionNotifier == 0) {\n              submissionNotifier.submitting = false;\n              submissionNotifier.success = true;\n            }\n          }\n        }\n      } else if (responseValue.status == 504) {\n        if (!submissionNotifier) officefc.responseString = \"ajout échoué.Le serveur est entrain de charger..\";else {\n          submissionNotifier.responseString = \"ajout échoué.Le serveur est entrain de charger..\";\n          if (submissionNotifier.count == undefined) {\n            submissionNotifier.submitting = false;\n            submissionNotifier.success = true;\n          } else if (submissionNotifier.count > 0) {\n            submissionNotifier.count -= 1;\n            if (submissionNotifier == 0) {\n              submissionNotifier.success = true;\n              submissionNotifier.submitting = false;\n            }\n          }\n        }\n      } else {\n        if (!submissionNotifier) officefc.responseString = \"ajout échoué. Il y a un problème de connection.\";else {\n          submissionNotifier.responseString = \"ajout échoué. Il y a un problème de connection.\";\n          if (submissionNotifier.count == undefined) {\n            submissionNotifier.submitting = false;\n            submissionNotifier.success = true;\n          } else if (submissionNotifier.count > 0) {\n            submissionNotifier.count -= 1;\n            if (submissionNotifier == 0) {\n              submissionNotifier.submitting = false;\n              submissionNotifier.success = true;\n            }\n          }\n        }\n      }\n    });\n  }\n  fileUpload(eventArgs) {\n    this.fileupload = eventArgs.target.files[0];\n  }\n  fileUpload2(eventArgs) {\n    this.fileupload2 = eventArgs.target.files[0];\n  }\n  selectValueChanged(value, value2) {\n    if (value.name == \"type\") {\n      if (value.value == \"3\") value2.value = value.value;\n    }\n    console.log(value);\n    console.log(value2);\n  }\n  numberReturn(value) {\n    return Number(value.toString());\n  }\n  radioChanged(r, num) {\n    if (r.checked && num == 1) {\n      this.r2_checked = false;\n      this.r1_checked = true;\n    } else if (r.checked && num == 2) {\n      this.r1_checked = false;\n      this.r2_checked = true;\n    }\n  }\n  selectionValid(s, num) {\n    try {\n      if (Number(s.value) >= 0) {\n        if (num == 3) this.s3_valid = true;else if (num == 4) this.s4_valid = true;\n      } else {\n        if (num == 3) this.s3_valid = false;else if (num == 4) this.s4_valid = false;\n      }\n    } catch (ex) {\n      if (num == 3) this.s3_valid = false;else if (num == 4) this.s4_valid = false;\n    }\n  }\n  getKeys(objectGiven) {\n    return Object.keys(objectGiven);\n  }\n  selectedIndex(s, num, index) {\n    if (num == 4 && index != this.s4_selected_index) {\n      this.s4_selected_index = index;\n      console.log(\"Indexes:\" + index);\n    }\n  }\n  updateChange(selectedID, row, headers, typeofupdate) {\n    console.log(row);\n    let formdata = new FormData();\n    let newwillbeswapped = undefined;\n    let oldtobeswapped = undefined;\n    if (typeofupdate == 'modifyinputrows') {\n      newwillbeswapped = this.data.onDisplay[selectedID].elements[row].values;\n      oldtobeswapped = this.data.onDisplaySaving[selectedID].values[row];\n      console.log(this.data.onDisplaySaving[selectedID].values);\n      console.log(newwillbeswapped);\n      console.log(typeof newwillbeswapped);\n      console.log(oldtobeswapped);\n      console.log(typeof oldtobeswapped);\n      for (const headerItem of headers) {\n        console.log(headerItem.validate);\n        if (headerItem.validate) {\n          console.log(headerItem.name + \" \" + oldtobeswapped[headerItem.name]);\n          console.log(headerItem.name + \" \" + newwillbeswapped[headerItem.name]);\n          formdata.append(headerItem.name, JSON.parse(JSON.stringify(oldtobeswapped[headerItem.name])));\n          formdata.append(headerItem.name, JSON.parse(JSON.stringify(newwillbeswapped[headerItem.name])));\n        }\n      }\n      formdata.append(\"index\", oldtobeswapped[\"index\"]);\n      formdata.append(\"index\", newwillbeswapped[\"index\"]);\n    } else if (typeofupdate == 'modifyrows') {\n      newwillbeswapped = this.data.rowChanges[selectedID].values[row].row;\n      oldtobeswapped = this.data.base.tables[selectedID].rows[row];\n      console.log(this.data.onDisplaySaving[selectedID].values);\n      console.log(newwillbeswapped);\n      console.log(typeof newwillbeswapped);\n      console.log(oldtobeswapped);\n      console.log(typeof oldtobeswapped);\n      let count = 0;\n      for (const headerItem of headers) {\n        console.log(headerItem.validate);\n        if (headerItem.validate) {\n          console.log(headerItem.name + \" \" + oldtobeswapped[count].value);\n          console.log(headerItem.name + \" \" + newwillbeswapped[count].value);\n          formdata.append(headerItem.name, oldtobeswapped[count].value);\n          formdata.append(headerItem.name, newwillbeswapped[count].value);\n        }\n        ++count;\n      }\n    }\n    //not needed this.swappingStack.push({old:oldtobeswapped,anew:newwillbeswapped,headers:headers});\n    formdata.append(\"table\", typeofupdate == 'modifyinputrows' ? this.data.base.tables[this.selectedID].name + \" saisies\" : this.data.base.tables[this.selectedID].name);\n    formdata.append(\"command\", \"update\");\n    formdata.append(\"cmdArg\", typeofupdate);\n    formdata.append(\"authID\", this.data.userAuthentification.ID);\n    formdata.append(\"authPrenom\", this.data.userAuthentification.Prenom);\n    formdata.append(\"authNom\", this.data.userAuthentification.Nom);\n    formdata.append(\"authGenre\", this.data.userAuthentification.genre);\n    formdata.append(\"authpass\", this.data.userAuthentification.pass);\n    this.getRequestCallBack(this.httpservice, formdata, this, this.updatingInputs);\n    if (typeofupdate == 'modifyinputrows') {\n      for (const headerItem of headers) {\n        if (headerItem.validate) {\n          oldtobeswapped[headerItem.name] = JSON.parse(JSON.stringify(newwillbeswapped[headerItem.name]));\n        }\n      }\n    }\n  }\n  addUp(length, selectedID, ID, headers) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      let formdata = new FormData();\n      let values = {};\n      let values2 = {};\n      console.log(headers);\n      if (_this.data.onDisplay[selectedID] == undefined) {\n        _this.data.onDisplay[selectedID] = {\n          indexofSelection: 0,\n          elements: []\n        };\n      }\n      for (const headerItem of headers) {\n        if (headerItem.name != \"index\" && headerItem.name != \"id\" && headerItem.name != \"idindividu\" && headerItem.name != \"prenom\" && headerItem.name != \"nom\" && headerItem.name != \"genre\" && headerItem.name != \"image\") {\n          values[headerItem.name] = \"\";\n          values2[headerItem.name] = \"\";\n          if (headerItem.type == 'Date') {\n            let curr = new Date();\n            values[headerItem.name] = curr.getFullYear() + '-' + (curr.getMonth() + 1) + '-' + curr.getDate();\n            values2[headerItem.name] = curr.getFullYear() + '-' + (curr.getMonth() + 1) + '-' + curr.getDate();\n            formdata.append(headerItem.name, curr.getFullYear() + '-' + (curr.getMonth() + 1) + '-' + curr.getDate());\n          } else formdata.append(headerItem.name, '');\n        }\n        console.log(headerItem.name);\n        console.log(\"empty\");\n      }\n      if (formdata.get(\"id\") == undefined) {\n        formdata.append(\"id\", selectedID);\n        values[\"id\"] = selectedID;\n        values2[\"id\"] = selectedID;\n      }\n      if (formdata.get(\"idindividu\") == undefined) {\n        formdata.append(\"idindividu\", ID);\n        values[\"idindividu\"] = ID;\n        values2[\"idindividu\"] = ID;\n      }\n      let max = 0;\n      let usable_index = [];\n      _this.data.onDisplay[selectedID].elements.forEach((el, index) => {\n        usable_index.push(index);\n        let currNum = Number(el.values.index);\n        if (currNum >= max) {\n          max = currNum + 1;\n        }\n        if (currNum == index) usable_index.pop();\n      });\n      values[\"index\"] = usable_index.length > 0 ? usable_index[0] : max;\n      let max2 = 0;\n      usable_index = [];\n      _this.data.onDisplaySaving[selectedID].values.forEach((el, index) => {\n        usable_index.push(index);\n        let currNum = Number(el.index);\n        if (currNum >= max2) {\n          max2 = currNum + 1;\n        }\n        if (currNum == index) usable_index.pop();\n      });\n      ;\n      values2[\"index\"] = usable_index.length > 0 ? usable_index[0].toString() : max2;\n      formdata.append(\"index\", values[\"index\"]);\n      let object_value = {\n        values: values,\n        responseString: \"\",\n        class: \"notdisplayed\",\n        done: false,\n        index: _this.data.onDisplay[selectedID].elements.length,\n        flipped: false,\n        submitting: false\n      };\n      _this.data.onDisplay[selectedID].elements.push(object_value);\n      _this.data.onDisplay[selectedID].indexofSelection = _this.data.onDisplay[selectedID].elements.length - 1;\n      _this.data.dicSubmittedOnDisplay[selectedID + \"b\" + (_this.data.onDisplay[selectedID].elements.length - 1)] = object_value;\n      _this.data.onDisplaySaving[selectedID].values.push(values2);\n      formdata.append(\"table\", _this.data.base.tables[_this.selectedID].name + \" saisies\");\n      formdata.append(\"command\", \"update\");\n      formdata.append(\"cmdArg\", \"addinputrows\");\n      formdata.append(\"authID\", _this.data.userAuthentification.ID);\n      formdata.append(\"authPrenom\", _this.data.userAuthentification.Prenom);\n      formdata.append(\"authNom\", _this.data.userAuthentification.Nom);\n      formdata.append(\"authGenre\", _this.data.userAuthentification.genre);\n      formdata.append(\"authpass\", _this.data.userAuthentification.pass);\n      _this.addingRowsDone.count++;\n      _this.addingRowsDone.submitting = true;\n      _this.getRequestCallBack(_this.httpservice, formdata, _this, _this.addingRowsDone);\n    })();\n  }\n  deleteElement(givenindex) {\n    let found_elements_index = -1;\n    this.data.onDisplay.elements.forEach((element, index) => {\n      if (element.index == givenindex) {\n        found_elements_index = index;\n        ;\n      }\n    });\n    if (found_elements_index != -1) {\n      this.data.onDisplay.elements.splice(1, found_elements_index);\n      this.resetSelectedIndex();\n    }\n  }\n  resetSelectedIndex() {\n    this.data.onDisplay.elements.forEach((element, index) => {\n      if (!element.done) {\n        this.data.onDisplay.indexofSelection = index;\n      }\n    });\n  }\n  setSelectedID(key) {\n    this.selectedID = key;\n  }\n  toggle(value1, value2, value3) {\n    this.toggled = !this.toggled;\n    this.c1 = value1;\n    this.c2 = value2;\n    this.c3 = value3;\n  }\n  flipOthers(selectedID, indexPassed, flip, rowHovered) {\n    console.log(indexPassed + \"-----------------\");\n    if (flip) {\n      this.rowHovered = rowHovered;\n    }\n    this.data.onDisplay[selectedID].elements.forEach((element, index) => {\n      console.log(index);\n      if (index != indexPassed) {\n        if (!element.flipped && flip) element.flipped = true;else if (element.flipped && !flip) element.flipped = false;\n      }\n    });\n  }\n  setSelectorValues(select, selectedIndex, values, elements) {\n    if (select.name == \"employeeID\") {\n      if (selectedIndex == -1) this.notLinking = true;else this.notLinking = false;\n      console.log(\"Linking status\");\n      console.log(this.notLinking);\n    }\n    elements.forEach((element, index) => {\n      if (!(element instanceof HTMLSelectElement)) {\n        if (selectedIndex == -1) {\n          if (this.modelDic[element.name] != undefined) {\n            this.modelDic[element.name] = \"\";\n          } else element.value = \"\";\n          element.disabled = false;\n        } else {\n          if (this.modelDic[element.name] != undefined) {\n            this.modelDic[element.name] = values[index];\n          }\n          element.disabled = true;\n        }\n      } else if (element instanceof HTMLSelectElement) {\n        element.selectedIndex = values[index];\n      }\n    });\n  }\n  clear(sElements, textElements) {\n    this.notLinking = true;\n    sElements.forEach(element1 => {\n      element1.selectedIndex = -1;\n    });\n    textElements.forEach(element => {\n      element.value = \"\";\n      if (element.disabled) {\n        element.disabled = undefined;\n      }\n    });\n  }\n  ableInput(s1, s2, element, elementfn1, elementsn1, elementg1, elementpwd1, element2) {\n    if (element.disabled) {\n      element.disabled = undefined;\n      elementfn1.disabled = undefined;\n      elementsn1.disabled = undefined;\n      elementg1.disabled = undefined;\n      elementpwd1.disabled = undefined;\n    }\n    if (element2.disabled) {\n      element2.disabled = undefined;\n    }\n  }\n  disableInput(s1, s2, element, elementfn1, elementsn1, elementg1, elementpwd1, element2) {\n    if (s1.selectedIndex != -1) {\n      element.disabled = true;\n      elementfn1.disabled = true;\n      elementsn1.disabled = true;\n      elementg1.disabled = true;\n      elementpwd1.disabled = true;\n    }\n    if (s2.selectedIndex != -1) element2.disabled = true;\n  }\n  reduceRowOfValuesbydisplayID(rowValuesArray) {\n    console.log(rowValuesArray);\n    return rowValuesArray.reduce((acc, curr) => acc = acc || curr.value == this.displayID || this.displayID == 'all', false);\n  }\n  addBase() {\n    let current_length = this.baseColumns.length;\n    let object_value = {\n      value: \"\",\n      index: this.baseColumns.length + 1,\n      submitting: false\n    };\n    this.baseColumns.push(object_value);\n  }\n  addRelation() {\n    this.generatedRelations.push({\n      name: \"\",\n      columns: [],\n      functions: [],\n      searchName: \"\"\n    });\n  }\n  fixType(type) {\n    if (type == \"Integer\") return \"number\";\n    return type;\n  }\n  log(values) {\n    values.forEach(val => console.log(val));\n  }\n  addSubFunctions(table, index5) {\n    if (table.functions[index5].subFunctions == undefined) {\n      table.functions[index5].subFunctions = [];\n    }\n    if (table.functions[index5].subFunctions.length == 0) {\n      table.functions[index5].subFunctions.push({\n        name: ''\n      });\n    }\n  }\n  changeClass(idValue, oldclass, newclass) {\n    try {\n      let element = document.getElementById(idValue);\n      if (element) {\n        element.classList.toggle(oldclass);\n        element.classList.toggle(newclass);\n      }\n      element = document.getElementById('msabeesesheader');\n      if (element) {\n        element.classList.toggle('none');\n      }\n      element = document.getElementById('msabeesesheader2');\n      if (element) {\n        element.classList.toggle('none');\n        element.classList.toggle('gridheader');\n      }\n    } catch (err) {}\n  }\n  inputCheckBoxChange(source, table, index2) {\n    //table.columns.indexOf(index2)>=0?table.columns.splice(index2,1):table.columns.push(index2);console.log(table);\n    if (!source.srcElement.checked) {\n      let indexFound = table.columns.indexOf(index2);\n      if (indexFound >= 0) {\n        table.columns.splice(indexFound, 1);\n        table.functions.splice(indexFound, 1);\n      }\n    } else {\n      if (table.columns.indexOf(index2) < 0) {\n        table.columns.push(index2);\n        table.functions.push({\n          name: undefined,\n          subFunctions: []\n        });\n      }\n    }\n  }\n  generateFile() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      console.log(\"generating file\");\n      let wb = _this2.xcelService.createWorkBook(_this2.data.userAuthentification.Prenom + \" \" + _this2.data.userAuthentification.Nom);\n      let ws = _this2.xcelService.addWorkSheet(_this2.data.base.tables[_this2.selectedID].name + \" Acceuil\", wb);\n      _this2.xcelService.addHeadersToWorkSheet(ws, _this2.data.base.tables[_this2.selectedID].headers);\n      _this2.xcelService.writeAllRowValuesFor1DArray(ws, _this2.data.base.tables[_this2.selectedID].rows, _this2.data.base.tables[_this2.selectedID].headers.length);\n      yield _this2.xcelService.saveWorkBookIntoFile(wb, _this2.data.base.tables[_this2.selectedID].name);\n    })();\n  }\n};\nOfficeFormComponent = __decorate([Component({\n  selector: 'app-office-form',\n  templateUrl: './office-form.component.html',\n  styleUrls: ['./office-form.component.css', './basic.css']\n})], OfficeFormComponent);","map":{"version":3,"names":["Component","ExceljsService","OfficeFormComponent","constructor","httpservice","data","notLinking","displayID","fileupload","undefined","fileupload2","responseString","Color","submissionRequests","r1_checked","r2_checked","s3_valid","s4_valid","s4_selected_index","toggled","maintableToggled","generatedRelations","selectedID","objectKeysFunction","Object","keys","type_correcter","modelDic","ID","baseID","rowHovered","newBase","baseColumns","value","index","submitting","c1","c2","c3","c3data","response","addingRowsDone","count","ourHeaders","swappingStack","updatingInputs","xcelService","choices","functions","functionsId","ifFunctionsDic","ifFunctionsConnector","groupFunctions","selectConnector","setInterval","console","log","userAuthentification","user","submitFunctionBasic","b","source","formdata","FormData","key","entries","dicSubmittedOnDisplay","srcElement","name","values","append","get","base","tables","Prenom","Nom","genre","pass","getRequestCallBack","submitFunction","formvalue","form","addindividual","ahttpservice","officefc","submissionNotifier","requestBaseInitFormBeta","subscribe","responseValue","comeBack","toString","Box","Pos","setTimeout","third","d2","Date","d1","getTime","customtext","success","text","ex","status","fileUpload","eventArgs","target","files","fileUpload2","selectValueChanged","value2","numberReturn","Number","radioChanged","r","num","checked","selectionValid","s","getKeys","objectGiven","selectedIndex","updateChange","row","headers","typeofupdate","newwillbeswapped","oldtobeswapped","onDisplay","elements","onDisplaySaving","headerItem","validate","JSON","parse","stringify","rowChanges","rows","addUp","length","_this","_asyncToGenerator","values2","indexofSelection","type","curr","getFullYear","getMonth","getDate","max","usable_index","forEach","el","push","currNum","pop","max2","object_value","class","done","flipped","deleteElement","givenindex","found_elements_index","element","splice","resetSelectedIndex","setSelectedID","toggle","value1","value3","flipOthers","indexPassed","flip","setSelectorValues","select","HTMLSelectElement","disabled","clear","sElements","textElements","element1","ableInput","s1","s2","elementfn1","elementsn1","elementg1","elementpwd1","element2","disableInput","reduceRowOfValuesbydisplayID","rowValuesArray","reduce","acc","addBase","current_length","addRelation","columns","searchName","fixType","val","addSubFunctions","table","index5","subFunctions","changeClass","idValue","oldclass","newclass","document","getElementById","classList","err","inputCheckBoxChange","index2","indexFound","indexOf","generateFile","_this2","wb","createWorkBook","ws","addWorkSheet","addHeadersToWorkSheet","writeAllRowValuesFor1DArray","saveWorkBookIntoFile","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Mamadou\\Documents\\GitHub\\BroadAppsDeleted\\Bases MSA - Reeses\\src\\app\\office-form\\office-form.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpResponse,HttpErrorResponse} from '@angular/common/http';\nimport {HttpService} from '../http-forced/http.service';\nimport {DataStorageService} from '../data-storage-service/data-storage.service';\nimport {ExceljsService} from '../exceljs.service'\n\n@Component({\n  selector: 'app-office-form',\n  templateUrl: './office-form.component.html',\n  styleUrls: ['./office-form.component.css','./basic.css']\n})\n\nexport class OfficeFormComponent \n{\n\tpublic notLinking:boolean = true;\n\tpublic displayID:string = \"all\";\n\tpublic fileupload:any = undefined;\n\tpublic fileupload2:any = undefined;\n\tpublic responseString:string =\"\";\n\tpublic Color:string = \"silver\";\n\tpublic submissionRequests:number = 0;\n\tpublic r1_checked:boolean = true;\n\tpublic r2_checked: boolean = false;\n\tpublic s3_valid:boolean = false;\n\tpublic s4_valid:boolean = false;\n\tpublic s4_selected_index = 0;\n\tpublic toggled: boolean = false;\n\tpublic maintableToggled: boolean = false;\n\tpublic generatedRelations:any[] = [];\n\tpublic selectedID:string = \"1\";\n\tpublic objectKeysFunction: Function = Object.keys;\n\tpublic type_correcter: any = {\"text\":\"Texte\",\"password\":\"Mot de passe\",\"Integer\":\"Nombre entier\",\"Date\":\"Date\"};\n\tpublic modelDic:any = {ID:\"\",baseID:\"\"};\n\tpublic rowHovered: any = undefined;\n\tpublic newBase:boolean = false;\n\tpublic baseColumns: any[] = [{value:\"\",index:0,submitting:false}];\n\tpublic c1:boolean = false;\n\tpublic c2:boolean = true;\n\tpublic c3:boolean = false;\n\tpublic c3data:any = {submitting:false,responseString:\"\",response:false};\n\tpublic addingRowsDone:any = {count: 0, submitting:true,responseString:\"\"};\n\tpublic ourHeaders:any = {};\n\tpublic swappingStack:any[] = []; \n\tpublic updatingInputs: any = {count: 0, submitting:true,responseString:\"\"};\n\tprivate xcelService:ExceljsService = new ExceljsService();\n\t\n\tpublic choices:string[] = [\"aucun\",\"filtre\",\"relation\"];\n\tpublic functions:string[] = [\"aucun\",\"si egal\",\"si sup\",\"si inf\",\"si supegal\",\"si infegal\",\"multiplier\",\"diviser\",\"ajouter\",\"soustraire\",\"puissance\"];\n\tpublic functionsId:any = {\"multiplier\":\"X\",\"diviser\":\"/\",\"ajouter\":\"+\",\"soustraire\":\"-\",\"puissance\":\"^\"};\n\tpublic ifFunctionsDic:any = { \"si egal\":[\"vrai\",\"faux\",\"autre\"]};\n\tpublic ifFunctionsConnector:string[] =  [\"=\",\"et\",\"ou\"];\n\tpublic groupFunctions:string[] = [\"comptes\",\"comptes et pourcentages\"];\n\tpublic selectConnector:string = 'selectconnector';\n\tconstructor(private httpservice: HttpService,public data: DataStorageService)\n\t{\n\t\tsetInterval(()=>{console.log(data);console.log(\"Toggle \"+this.toggled+\"....\")},2000);\n\t\tif(data.userAuthentification.user)\n\t\t\tthis.displayID = data.userAuthentification.ID;\n\t}\n\tpublic submitFunctionBasic(b:number,source:any)\n\t{\n\t\tif(this.c2)\n\t\t{\n\t\t\tlet formdata = new FormData();\n\t\t\t\n\t\t\tfor (const [key, value] of Object.entries(this.data.dicSubmittedOnDisplay[source.srcElement.name].values)) \n\t\t\t{\n\t\t\t\n\t\t\t\tif( key != \"idDisplayer\" && key != \"id\" && key != \"idindividu\" && key !=\"prenom\" && key !=\"nom\" && key !=\"genre\" && key !=\"image\")\n\t\t\t\t\tformdata.append(key as string,value as string);\n\t\t\t\t\n\t\t\t\tconsole.log(key);\n\t\t\t\tconsole.log(value);\n\t\t\t}\n\t\t\t\n\t\t\tif(formdata.get(\"id\") == undefined)\n\t\t\t{\n\t\t\t\tformdata.append(\"id\",this.selectedID);\n\t\t\t}\n\t\t\t\n\t\t\tif(formdata.get(\"idindividu\") == undefined)\n\t\t\t{\n\t\t\t\tformdata.append(\"idindividu\",this.data.userAuthentification.ID);\n\t\t\t}\n\t\t\t\n\t\t\tformdata.append(\"index\",this.data.dicSubmittedOnDisplay[source.srcElement.name].index);\n\t\t\tformdata.append(\"table\",this.data.base.tables[this.selectedID].name);\n\t\t\tformdata.append(\"command\",\"update\");\n\t\t\tformdata.append(\"cmdArg\",\"addrows\");\n\t\t\tformdata.append(\"authID\",this.data.userAuthentification.ID);\n\t\t\tformdata.append(\"authPrenom\",this.data.userAuthentification.Prenom);\n\t\t\tformdata.append(\"authNom\",this.data.userAuthentification.Nom);\n\t\t\tformdata.append(\"authGenre\",this.data.userAuthentification.genre);\n\t\t\tformdata.append(\"authpass\",this.data.userAuthentification.pass);\n\t\t\tconsole.log(source.srcElement.name+\" ..........submitting\");\n\t\t\tconsole.log(this.data.dicSubmittedOnDisplay[source.srcElement.name]);\n\t\t\tthis.data.dicSubmittedOnDisplay[source.srcElement.name].submitting = true;\n\t\t\tthis.getRequestCallBack(this.httpservice,formdata,this,this.data.dicSubmittedOnDisplay[source.srcElement.name]);\n\t\t\t//let b = this.data.dicSubmittedOnDisplay[source.srcElement.name].index;\n\t\t\t//this.flipOthers(this.selectedID,b,false,this.data.onDisplay[this.selectedID].elements[b]);\n\t\t}\n\t}\n\tpublic submitFunction(formvalue:any,form:any,source:any):void\n\t{\n\t\tlet addindividual = this.notLinking;\n\t\tconsole.log(source);\n\t\tif(this.c1)\n\t\t{\n\t\t\t//console.log(formvalue);\n\t\t\t\n\t\t\tlet formdata = new FormData();\n\t\t\tfor (const [key, value] of Object.entries(formvalue)) \n\t\t\t{\n\t\t\t\tif( key != \"employeeID\" && key != \"baseIDPrime\")\n\t\t\t\t{\n\t\t\t\t\tif(key == \"imgname\" && this.fileupload != undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tformdata.append(\"imgfile\",this.fileupload,this.fileupload.name);\n\t\t\t\t\t\tformdata.append(\"imagename\",\"assets/images/\"+this.fileupload.name);\n\t\t\t\t\t\tconsole.log(value);\n\t\t\t\t\t}\n\t\t\t\t\telse if( key == \"type\" )\n\t\t\t\t\t{\n\t\t\t\t\t\tformdata.append(key+\"1\",(value as string) == \"1\"?'true':'false');\n\t\t\t\t\t\tformdata.append(key+\"2\",(value as string) == \"4\"?'true':'false');\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tformdata.append(key as string,value as string);\n\t\t\t\t}\n\t\t\t\tconsole.log(key+\" \"+value);\n\t\t\t}\n\t\t\t\n\t\t\tformdata.append(\"table\",\"DouDous'individuals\");\n\t\t\tformdata.append(\"table2\",\"DouDous correspondance\");\t\n\t\t\tformdata.append(\"command\",\"update\");\n\t\t\tformdata.append(\"cmdArg\",(addindividual)?\"addindividual\":\"linkindividualtobase\");\n\t\t\tformdata.append(\"authID\",this.data.userAuthentification.ID);\n\t\t\tformdata.append(\"authPrenom\",this.data.userAuthentification.Prenom);\n\t\t\tformdata.append(\"authNom\",this.data.userAuthentification.Nom);\n\t\t\tformdata.append(\"authGenre\",this.data.userAuthentification.genre);\n\t\t\tformdata.append(\"authpass\",this.data.userAuthentification.pass);\n\t\t\t\n\t\t\tconsole.log(formvalue);\n\t\t\tthis.getRequestCallBack(this.httpservice,formdata,this,undefined);\n\t\t}\n\t\telse if(this.c2)\n\t\t{\n\t\t\tlet formdata = new FormData();\n\t\t\t\n\t\t\tfor (const [key, value] of Object.entries(formvalue)) \n\t\t\t{\n\t\t\t\tif( key != \"idDisplayer\" )\n\t\t\t\t\tformdata.append(key as string,value as string);\n\t\t\t\t\n\t\t\t\tconsole.log(key);\n\t\t\t\tconsole.log(value);\n\t\t\t}\n\t\t\t\n\t\t\tif(formdata.get(\"id\") == undefined)\n\t\t\t{\n\t\t\t\tformdata.append(\"id\",this.selectedID);\n\t\t\t}\n\t\t\t\n\t\t\tif(formdata.get(\"idindividu\") == undefined)\n\t\t\t{\n\t\t\t\tformdata.append(\"idindividu\",this.data.userAuthentification.ID);\n\t\t\t}\n\t\t\t\n\t\t\tformdata.append(\"index\",this.data.dicSubmittedOnDisplay[source.srcElement.name].index);\n\t\t\tformdata.append(\"table\",this.data.base.tables[this.selectedID].name);\n\t\t\tformdata.append(\"command\",\"update\");\n\t\t\tformdata.append(\"cmdArg\",\"addrows\");\n\t\t\tformdata.append(\"authID\",this.data.userAuthentification.ID);\n\t\t\tformdata.append(\"authPrenom\",this.data.userAuthentification.Prenom);\n\t\t\tformdata.append(\"authNom\",this.data.userAuthentification.Nom);\n\t\t\tformdata.append(\"authGenre\",this.data.userAuthentification.genre);\n\t\t\tformdata.append(\"authpass\",this.data.userAuthentification.pass);\n\t\t\tconsole.log(source.srcElement.name+\" ..........submitting\");\n\t\t\tconsole.log(this.data.dicSubmittedOnDisplay[source.srcElement.name]);\n\t\t\tthis.data.dicSubmittedOnDisplay[source.srcElement.name].submitting = true;\n\t\t\tthis.getRequestCallBack(this.httpservice,formdata,this,this.data.dicSubmittedOnDisplay[source.srcElement.name]);\n\t\t\t//let b = this.data.dicSubmittedOnDisplay[source.srcElement.name].index;\n\t\t\t//this.flipOthers(this.selectedID,b,false,this.data.onDisplay[this.selectedID].elements[b]);\n\t\t}\n\t\telse if (this.c3)\n\t\t{\n\t\t\tlet formdata = new FormData();\n\t\t\tthis.c3data.submitting = true;\n\t\t\t\n\t\t\tfor (const [key, value] of Object.entries(formvalue)) \n\t\t\t{\n\t\t\t\tif(key == \"imgname\" && this.fileupload2 != undefined)\n\t\t\t\t{\n\t\t\t\t\tformdata.append(\"imgfile\",this.fileupload2,this.fileupload2.name);\n\t\t\t\t\tformdata.append(\"imagename\",\"assets/images/\"+this.fileupload2.name);\n\t\t\t\t}\n\t\t\t\telse \n\t\t\t\t\tformdata.append(key as string,value as string);\n\t\t\t}\n\t\t\t\n\t\t\tformdata.append(\"table\",\"DouDous'bases\");\n\t\t\tformdata.append(\"command\",\"update\");\n\t\t\tformdata.append(\"cmdArg\",\"addbase\");\n\t\t\tformdata.append(\"authID\",this.data.userAuthentification.ID);\n\t\t\tformdata.append(\"authPrenom\",this.data.userAuthentification.Prenom);\n\t\t\tformdata.append(\"authNom\",this.data.userAuthentification.Nom);\n\t\t\tformdata.append(\"authGenre\",this.data.userAuthentification.genre);\n\t\t\tformdata.append(\"authpass\",this.data.userAuthentification.pass);\n\t\t\tthis.getRequestCallBack(this.httpservice,formdata,this,this.c3data);\n\t\t}\n\t}\n\t\n\tgetRequestCallBack(ahttpservice:HttpService,formvalue:FormData,officefc:OfficeFormComponent,submissionNotifier:any)\n\t{\n\t\tofficefc.submissionRequests++;\n\t\tconsole.log(\"Why are you so stubbordn...\"+officefc.submissionRequests);\n\t\tahttpservice.requestBaseInitFormBeta(formvalue).subscribe(\n\t\t(responseValue: any) =>\n\t\t{\n\t\t\tlet response:responsa = responseValue as responsa;\n\t\t\tconsole.log(responseValue);\n\t\t\tconsole.log(response);\n\t\t\ttry\n\t\t\t{\n\t\t\t\tif(response.comeBack)\n\t\t\t\t{\n\t\t\t\t\tif( formvalue.get(\"comeBack\") == undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tformvalue.append(\"comeBack\",response.comeBack.toString());\n\t\t\t\t\t}\n\t\t\t\t\tif(formvalue.get(\"Box\") == undefined) \n\t\t\t\t\t{\n\t\t\t\t\t\tformvalue.append(\"Box\",response.Box.toString());\n\t\t\t\t\t}\n\t\t\t\t\tif(formvalue.get(\"Pos\") == undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tformvalue.append(\"Pos\",response.Pos.toString());\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(officefc.submissionRequests < 100)\n\t\t\t\t\t{\n\t\t\t\t\t\tofficefc.responseString = \"Le serveur est entrain de charger.Veuillez patienter\"+((officefc.submissionRequests<= 30)?\".\":((officefc.submissionRequests<=60)?\"..\":((officefc.submissionRequests>60)?\"...\":\"\")));\n\t\t\t\t\t\t/*if(officefc.submissionRequests % 50 == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet d2:Date = new Date();\n\t\t\t\t\t\t\tlet d1:Date = new Date();\n\t\t\t\t\t\t\twhile(d1.getTime() - d2.getTime() < 50)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\td1 = new Date();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}*/\n\t\t\t\t\t\tsetTimeout(officefc.getRequestCallBack,750,officefc.httpservice,formvalue,officefc);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tofficefc.submissionRequests = 0;\n\t\t\t\t\t\t//aparent.loginToggle.responseString = \"Erreur au niveau du serveur veuillez réessayer plus tard.\";\n\t\t\t\t\t\tofficefc.responseString = \"Erreur au niveau du serveur. Veuillez réessayer encore.\";\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t\telse if(response.third)\n\t\t\t\t{\n\t\t\t\t\t\tif(officefc.submissionRequests < 100)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tofficefc.responseString = \"Le serveur est entrain de charger.Veuillez patienter\"+((officefc.submissionRequests<= 30)?\".\":((officefc.submissionRequests<=60)?\"..\":((officefc.submissionRequests>60)?\"...\":\"\")));\n\t\t\t\t\t\t\tif(officefc.submissionRequests % 50 == 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlet d2:Date = new Date();\n\t\t\t\t\t\t\t\tlet d1:Date = new Date();\n\t\t\t\t\t\t\t\twhile(d1.getTime() - d2.getTime() < 50)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\td1 = new Date();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tofficefc.getRequestCallBack(officefc.httpservice,formvalue,officefc,submissionNotifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tofficefc.submissionRequests = 0;\n\t\t\t\t\t\t\t//aparent.loginToggle.responseString = \"Erreur au niveau du serveur veuillez réessayer plus tard.\";\n\t\t\t\t\t\t\tofficefc.responseString = \"Erreur au niveau du serveur. Veuillez réessayer encore.\";\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(response.customtext == \"IDExistant\")\n\t\t\t\t{\n\t\t\t\t\tofficefc.responseString = \"ajout échoué. L'ID choisit existe déja\";\n\t\t\t\t}\n\t\t\t\telse if(response.customtext == \"OK\")\n\t\t\t\t{\n\t\t\t\t\tif(!submissionNotifier)\n\t\t\t\t\t\tofficefc.responseString = \"ajout passé.\";\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tsubmissionNotifier.responseString = \"ajout passé\";\n\t\t\t\t\t\tif(submissionNotifier.count == undefined){\n\t\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if( submissionNotifier.count > 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmissionNotifier.count -= 1;\n\t\t\t\t\t\t\tif(submissionNotifier == 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(!submissionNotifier)\n\t\t\t\t\t\tofficefc.responseString = response.text as string;\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif( response.customtext == \"Error\" )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmissionNotifier.responseString = response.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(submissionNotifier.count == undefined)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if( submissionNotifier.count > 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmissionNotifier.count -= 1;\n\t\t\t\t\t\t\tif(submissionNotifier == 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}catch(ex){}\n\t\t},(responseValue:HttpErrorResponse)=>\n\t\t{\n\t\t\tconsole.log(responseValue);\n\t\t\tif (responseValue.status == 500)\n\t\t\t{\n\t\t\t\tif(!submissionNotifier)\n\t\t\t\t\tofficefc.responseString = \"ajout échoué.\";\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsubmissionNotifier.responseString = \"ajout échoué.\";\n\t\t\t\t\tif(submissionNotifier.count == undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t}\n\t\t\t\t\telse if( submissionNotifier.count > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tsubmissionNotifier.count -= 1;\n\t\t\t\t\t\tif(submissionNotifier == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (responseValue.status == 504)\n\t\t\t{\n\t\t\t\tif(!submissionNotifier)\n\t\t\t\t\tofficefc.responseString = \"ajout échoué.Le serveur est entrain de charger..\";\n\t\t\t\telse\n\t\t\t\t{\t\n\t\t\t\t\tsubmissionNotifier.responseString = \"ajout échoué.Le serveur est entrain de charger..\";\n\t\t\t\t\tif(submissionNotifier.count == undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t}\n\t\t\t\t\telse if( submissionNotifier.count > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tsubmissionNotifier.count -= 1;\n\t\t\t\t\t\tif(submissionNotifier == 0) \n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(!submissionNotifier)\n\t\t\t\t\tofficefc.responseString = \"ajout échoué. Il y a un problème de connection.\";\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsubmissionNotifier.responseString = \"ajout échoué. Il y a un problème de connection.\";\t\t\t\t\t\n\t\t\t\t\tif(submissionNotifier.count == undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t}\n\t\t\t\t\telse if( submissionNotifier.count > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tsubmissionNotifier.count -= 1;\n\t\t\t\t\t\tif(submissionNotifier == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsubmissionNotifier.submitting = false;\n\t\t\t\t\t\t\tsubmissionNotifier.success = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t\n\tfileUpload(eventArgs:any):void\n\t{\n\t\tthis.fileupload = eventArgs.target.files[0];\n\t}\n\t\n\tfileUpload2(eventArgs:any):void\n\t{\n\t\tthis.fileupload2 = eventArgs.target.files[0];\n\t}\n\t\n\tselectValueChanged (value:HTMLSelectElement,value2:HTMLInputElement) : void\n\t{\n\t\tif(value.name == \"type\" )\n\t\t{\n\t\t\tif(value.value == \"3\")\n\t\t\tvalue2.value = value.value;\n\t\t}\n\t\tconsole.log(value);console.log(value2);\n\t}\n\t\n\tnumberReturn (value:any)\n\t{\n\t\treturn Number(value.toString());\n\t}\n\t\n\tradioChanged(r:HTMLInputElement,num:Number)\n\t{\n\t\tif(r.checked && num == 1)\n\t\t{\n\t\t\tthis.r2_checked = false;\n\t\t\tthis.r1_checked = true;\n\t\t}\n\t\telse if(r.checked && num == 2)\n\t\t{\n\t\t\tthis.r1_checked = false;\n\t\t\tthis.r2_checked = true;\n\t\t}\n\t}\n\t\n\t\n\tselectionValid(s:HTMLSelectElement,num:Number)\n\t{\t\n\t\ttry\n\t\t{\n\t\t\tif(Number(s.value) >= 0)\n\t\t\t{\t\n\t\t\t\tif(num == 3)\n\t\t\t\t\tthis.s3_valid = true;\n\t\t\t\telse if(num == 4)\n\t\t\t\t\tthis.s4_valid = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(num == 3)\n\t\t\t\t\tthis.s3_valid = false;\n\t\t\t\telse if(num == 4)\n\t\t\t\t\tthis.s4_valid = false;\n\t\t\t}\n\t\t}\n\t\tcatch(ex)\n\t\t{\n\t\t\tif(num == 3)\n\t\t\t\tthis.s3_valid = false;\n\t\t\telse if(num == 4)\n\t\t\t\tthis.s4_valid = false;\n\t\t}\n\t}\n\tgetKeys(objectGiven:any):any\n\t{\n\t\treturn Object.keys(objectGiven);\n\t}\n\tselectedIndex(s:HTMLSelectElement,num:Number,index:number)\n\t{\n\t\tif(num == 4 && index != this.s4_selected_index)\n\t\t{\n\t\t\tthis.s4_selected_index = index;\n\t\t\tconsole.log(\"Indexes:\" +index);\n\t\t}\n\t}\n\t\n\tupdateChange(selectedID:any,row:number,headers:any,typeofupdate:string)\n\t{\n\t\tconsole.log(row);\n\t\tlet formdata = new FormData();\n\t\tlet newwillbeswapped = undefined;\n\t\tlet oldtobeswapped = undefined;\n\t\t\n\t\tif(typeofupdate == 'modifyinputrows')\n\t\t{\n\t\t\tnewwillbeswapped = this.data.onDisplay[selectedID].elements[row].values;\n\t\t\toldtobeswapped = this.data.onDisplaySaving[selectedID].values[row];\n\t\t\t\n\t\t\tconsole.log(this.data.onDisplaySaving[selectedID].values);\n\t\t\tconsole.log(newwillbeswapped);\n\t\t\tconsole.log(typeof newwillbeswapped);\n\t\t\tconsole.log(oldtobeswapped);\n\t\t\tconsole.log(typeof oldtobeswapped);\n\t\t\t\n\t\t\t\n\t\t\tfor (const headerItem of headers) \n\t\t\t{\n\t\t\t\tconsole.log(headerItem.validate);\n\t\t\t\tif( headerItem.validate )\n\t\t\t\t{\n\t\t\t\t\tconsole.log(headerItem.name+\" \"+oldtobeswapped[headerItem.name]);\n\t\t\t\t\tconsole.log(headerItem.name+\" \"+newwillbeswapped[headerItem.name]);\n\t\t\t\t\tformdata.append(headerItem.name as string,JSON.parse(JSON.stringify(oldtobeswapped[headerItem.name])));\n\t\t\t\t\tformdata.append(headerItem.name as string,JSON.parse(JSON.stringify(newwillbeswapped[headerItem.name])));\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tformdata.append(\"index\",oldtobeswapped[\"index\"]);\n\t\t\tformdata.append(\"index\",newwillbeswapped[\"index\"]);\n\t\t}\n\t\telse if(typeofupdate == 'modifyrows')\n\t\t{\n\t\t\tnewwillbeswapped = this.data.rowChanges[selectedID].values[row].row;\n\t\t\toldtobeswapped = this.data.base.tables[selectedID].rows[row];\n\t\t\t\n\t\t\tconsole.log(this.data.onDisplaySaving[selectedID].values);\n\t\t\tconsole.log(newwillbeswapped);\n\t\t\tconsole.log(typeof newwillbeswapped);\n\t\t\tconsole.log(oldtobeswapped);\n\t\t\tconsole.log(typeof oldtobeswapped);\n\t\t\t\n\t\t\tlet count = 0;\n\t\t\tfor (const headerItem of headers) \n\t\t\t{\n\t\t\t\tconsole.log(headerItem.validate);\n\t\t\t\tif( headerItem.validate )\n\t\t\t\t{\n\t\t\t\t\tconsole.log(headerItem.name+\" \"+oldtobeswapped[count].value);\n\t\t\t\t\tconsole.log(headerItem.name+\" \"+newwillbeswapped[count].value);\n\t\t\t\t\tformdata.append(headerItem.name as string,oldtobeswapped[count].value);\n\t\t\t\t\tformdata.append(headerItem.name as string,newwillbeswapped[count].value);\n\t\t\t\t}\n\t\t\t\t++count;\n\t\t\t}\n\t\t}\n\t\t//not needed this.swappingStack.push({old:oldtobeswapped,anew:newwillbeswapped,headers:headers});\n\t\t\n\t\tformdata.append(\"table\",typeofupdate == 'modifyinputrows'?this.data.base.tables[this.selectedID].name+\" saisies\":this.data.base.tables[this.selectedID].name);\n\t\tformdata.append(\"command\",\"update\");\n\t\tformdata.append(\"cmdArg\",typeofupdate);\n\t\tformdata.append(\"authID\",this.data.userAuthentification.ID);\n\t\tformdata.append(\"authPrenom\",this.data.userAuthentification.Prenom);\n\t\tformdata.append(\"authNom\",this.data.userAuthentification.Nom);\n\t\tformdata.append(\"authGenre\",this.data.userAuthentification.genre);\n\t\tformdata.append(\"authpass\",this.data.userAuthentification.pass);\n\t\tthis.getRequestCallBack(this.httpservice,formdata,this,this.updatingInputs);\n\t\t\n\t\tif(typeofupdate == 'modifyinputrows')\n\t\t{\n\t\t\tfor (const headerItem of headers) \n\t\t\t{\n\t\t\t\tif(headerItem.validate)\n\t\t\t\t{\n\t\t\t\t\toldtobeswapped[headerItem.name] = JSON.parse(JSON.stringify(newwillbeswapped[headerItem.name]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\tasync addUp(length:number,selectedID:string,ID:string,headers:any[])\n\t{\n\t\tlet formdata = new FormData();\n\t\tlet values:any = {};\n\t\tlet values2:any ={};\n\t\tconsole.log(headers);\n\t\t\n\t\tif(this.data.onDisplay[selectedID] == undefined)\n\t\t{\n\t\t\tthis.data.onDisplay[selectedID] ={indexofSelection: 0, elements:[]};\n\t\t}\n\t\t\n\t\tfor (const headerItem of headers) \n\t\t{\n\t\t\tif( headerItem.name != \"index\" && headerItem.name != \"id\" && headerItem.name != \"idindividu\" && headerItem.name !=\"prenom\" && headerItem.name!=\"nom\" && headerItem.name!=\"genre\" && headerItem.name !=\"image\")\n\t\t\t{\t\n\t\t\t\t\n\t\t\t\tvalues[headerItem.name] = \"\";\n\t\t\t\tvalues2[headerItem.name] = \"\";\n\t\t\t\tif(headerItem.type == 'Date')\n\t\t\t\t{\n\t\t\t\t\tlet curr = new Date();\n\t\t\t\t\tvalues[headerItem.name] = curr.getFullYear()+'-'+(curr.getMonth()+1)+'-'+curr.getDate();\n\t\t\t\t\tvalues2[headerItem.name] = curr.getFullYear()+'-'+(curr.getMonth()+1)+'-'+curr.getDate();\n\t\t\t\t\tformdata.append(headerItem.name as string,curr.getFullYear()+'-'+(curr.getMonth()+1)+'-'+curr.getDate());\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tformdata.append(headerItem.name as string,'');\n\t\t\t\t\n\t\t\t}\n\t\t\tconsole.log(headerItem.name);\n\t\t\tconsole.log(\"empty\");\n\t\t}\n\t\t\n\t\tif(formdata.get(\"id\") == undefined)\n\t\t{\n\t\t\tformdata.append(\"id\",selectedID);\n\t\t\tvalues[\"id\"] = selectedID;\n\t\t\tvalues2[\"id\"] = selectedID;\n\t\t}\n\t\t\t\n\t\tif(formdata.get(\"idindividu\") == undefined)\n\t\t{\n\t\t\tformdata.append(\"idindividu\",ID);\n\t\t\tvalues[\"idindividu\"] = ID;\n\t\t\tvalues2[\"idindividu\"] = ID;\n\t\t}\n\t\t\n\t\tlet max = 0;\n\t\tlet usable_index:number[] = [];\n\t\tthis.data.onDisplay[selectedID].elements.forEach((el:any,index:number)=>\n\t\t{\n\t\t\tusable_index.push(index);\n\t\t\tlet currNum = Number(el.values.index);\n\t\t\tif( currNum>= max )\n\t\t\t{\n\t\t\t\tmax = currNum+1;\n\t\t\t}\n\t\t\tif(currNum == index)\n\t\t\t\tusable_index.pop();\n\t\t});\n\t\t\n\t\tvalues[\"index\"] = usable_index.length > 0? usable_index[0]:max;\n\t\t\n\t\tlet max2 = 0;\n\t\tusable_index = [];\n\t\tthis.data.onDisplaySaving[selectedID].values.forEach((el:any,index:number)=>\n\t\t{\n\t\t\tusable_index.push(index);\n\t\t\tlet currNum = Number(el.index);\n\t\t\tif( currNum >= max2 )\n\t\t\t{\n\t\t\t\tmax2 = currNum+1;\n\t\t\t}\n\t\t\tif(currNum == index)\n\t\t\t\tusable_index.pop();\n\t\t});;\n\t\t\n\t\tvalues2[\"index\"] = usable_index.length > 0? usable_index[0].toString():max2;\n\t\t\n\t\tformdata.append(\"index\",values[\"index\"]);\n\t\t\n\t\tlet object_value:any = {values:values,responseString:\"\",class:\"notdisplayed\",done:false,index:this.data.onDisplay[selectedID].elements.length,flipped:false,submitting:false};\n\t\t\n\t\tthis.data.onDisplay[selectedID].elements.push(object_value);\n\t\tthis.data.onDisplay[selectedID].indexofSelection = this.data.onDisplay[selectedID].elements.length-1; \t\n\t\tthis.data.dicSubmittedOnDisplay[selectedID+\"b\"+(this.data.onDisplay[selectedID].elements.length-1)] = object_value;\n\t\t\n\t\tthis.data.onDisplaySaving[selectedID].values.push(values2);\t\n\t\t\n\t\tformdata.append(\"table\",this.data.base.tables[this.selectedID].name+\" saisies\");\n\t\tformdata.append(\"command\",\"update\");\n\t\tformdata.append(\"cmdArg\",\"addinputrows\");\n\t\tformdata.append(\"authID\",this.data.userAuthentification.ID);\n\t\tformdata.append(\"authPrenom\",this.data.userAuthentification.Prenom);\n\t\tformdata.append(\"authNom\",this.data.userAuthentification.Nom);\n\t\tformdata.append(\"authGenre\",this.data.userAuthentification.genre);\n\t\tformdata.append(\"authpass\",this.data.userAuthentification.pass);\n\t\t\t\n\t\tthis.addingRowsDone.count++;\n\t\tthis.addingRowsDone.submitting = true;\n\t\tthis.getRequestCallBack(this.httpservice,formdata,this,this.addingRowsDone);\n\n\t}\n\t\n\tdeleteElement(givenindex:number)\n\t{\n\t\tlet found_elements_index = -1;\n\t\tthis.data.onDisplay.elements.forEach((element:rowInterface,index:number)=>\n\t\t{\n\t\t\tif(element.index == givenindex)\n\t\t\t{\n\t\t\t\tfound_elements_index = index;;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(found_elements_index != -1)\n\t\t{\n\t\t\tthis.data.onDisplay.elements.splice(1,found_elements_index);\n\t\t\tthis.resetSelectedIndex();\n\t\t}\n\t\t\n\t}\n\t\n\tresetSelectedIndex()\n\t{\n\t\tthis.data.onDisplay.elements.forEach((element:rowInterface,index:number)=>\n\t\t{\n\t\t\tif(!element.done)\n\t\t\t{\n\t\t\t\tthis.data.onDisplay.indexofSelection = index;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsetSelectedID(key:string)\n\t{\n\t\tthis.selectedID  = key;\n\t}\n\t\n\ttoggle(value1:boolean,value2:boolean,value3:boolean)\n\t{\n\t\tthis.toggled = !this.toggled;\n\t\tthis.c1 = value1;\n\t\tthis.c2 = value2;\n\t\tthis.c3 = value3;\n\t}\n\t\n\tflipOthers(selectedID:any,indexPassed:number,flip:boolean,rowHovered:any)\n\t{\n\t\tconsole.log(indexPassed+\"-----------------\");\n\t\tif(flip)\n\t\t{\n\t\t\tthis.rowHovered = rowHovered;\n\t\t}\n\t\t\n\t\t\n\t\tthis.data.onDisplay[selectedID].elements.forEach((element:rowInterface,index:number)=>\n\t\t{\n\t\t\tconsole.log(index);\n\t\t\tif(index != indexPassed)\n\t\t\t{\n\t\t\t\tif(!element.flipped && flip)\n\t\t\t\t\telement.flipped = true;\n\t\t\t\telse if(element.flipped && !flip)\n\t\t\t\t\telement.flipped = false;\t\t\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsetSelectorValues(select:HTMLSelectElement,selectedIndex:number,values:any[],elements: any[])\n\t{\n\t\tif(select.name == \"employeeID\")\n\t\t{\n\t\t\tif(selectedIndex == -1)\n\t\t\t\tthis.notLinking = true;\n\t\t\telse\n\t\t\t\tthis.notLinking = false;\n\t\t\tconsole.log(\"Linking status\");\n\t\t\tconsole.log(this.notLinking);\n\t\t}\n\t\telements.forEach((element,index)=>\n\t\t{\n\t\t\tif(!(element instanceof HTMLSelectElement))\n\t\t\t{\n\t\t\t\tif(selectedIndex == -1)\n\t\t\t\t{\n\t\t\t\t\tif(this.modelDic[element.name]!= undefined )\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.modelDic[element.name] = \"\";\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\telement.value = \"\"; \n\t\t\t\t\telement.disabled = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(this.modelDic[element.name]!= undefined )\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.modelDic[element.name] = values[index];\n\t\t\t\t\t}\n\t\t\t\t\telement.disabled = true; \n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(element instanceof HTMLSelectElement)\n\t\t\t{\n\t\t\t\telement.selectedIndex= values[index];\n\t\t\t}\n\t\t});\n\t}\n\t\n\tclear(sElements:any[],textElements:any[])\n\t{\n\t\tthis.notLinking = true;\n\t\tsElements.forEach((element1)=>\n\t\t{\n\t\t\telement1.selectedIndex = -1; \n\t\t});\n\t\t\n\t\ttextElements.forEach((element)=>\n\t\t{\n\t\t\telement.value = \"\";\n\t\t\tif(element.disabled)\n\t\t\t{\n\t\t\t\telement.disabled = undefined;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tableInput(s1:any,s2:any,element:any,elementfn1:any,elementsn1:any,elementg1:any,elementpwd1:any,element2:any)\n\t{\n\t\tif(element.disabled)\n\t\t{\n\t\t\telement.disabled = undefined;\n\t\t\telementfn1.disabled = undefined;\n\t\t\telementsn1.disabled = undefined;\n\t\t\telementg1.disabled = undefined;\n\t\t\telementpwd1.disabled = undefined;\n\t\t}\n\t\tif(element2.disabled)\n\t\t{\n\t\t\telement2.disabled = undefined;\n\t\t}\n\t}\n\t\n\tdisableInput(s1:any,s2:any,element:any,elementfn1:any,elementsn1:any,elementg1:any,elementpwd1:any,element2:any)\n\t{\n\t\tif(s1.selectedIndex != -1)\n\t\t{\n\t\t\telement.disabled = true;\n\t\t\telementfn1.disabled = true;\n\t\t\telementsn1.disabled = true;\n\t\t\telementg1.disabled = true;\n\t\t\telementpwd1.disabled = true;\n\t\t}\n\t\tif(s2.selectedIndex != -1)\n\t\telement2.disabled = true;\n\t}\n\t\n\treduceRowOfValuesbydisplayID(rowValuesArray:any[]):boolean\n\t{\n\t\tconsole.log(rowValuesArray);\n\t\treturn rowValuesArray.reduce((acc:boolean,curr:any)=> acc = acc || (curr.value == this.displayID || this.displayID == 'all'),false);\n\t}\n\t\n\taddBase():void\n\t{\n\t\tlet current_length = this.baseColumns.length;\n\t\tlet object_value = {value:\"\",index:this.baseColumns.length+1,submitting:false};\n\t\tthis.baseColumns.push(object_value);\n\t}\n\t\n\taddRelation()\n\t{\n\t\tthis.generatedRelations.push({name:\"\",columns:[],functions:[],searchName:\"\"});\n\t}\n\t\n\tfixType(type:string):string\n\t{\n\t\tif(type == \"Integer\")\n\t\treturn \"number\"\n\t\t\n\t\treturn type;\n\t}\n\t\n\tlog(values:any[])\n\t{\n\t\tvalues.forEach((val)=>console.log(val));\n\t}\n\t\n\taddSubFunctions(table:any,index5:number)\n\t{\n\t\tif(table.functions[index5].subFunctions == undefined) \n\t\t{\n\t\t\ttable.functions[index5].subFunctions = [];\n\t\t} \n\t\tif(table.functions[index5].subFunctions.length == 0)\n\t\t{\n\t\t\ttable.functions[index5].subFunctions.push({name:''});\n\t\t}\n\t}\n\t\n\tchangeClass(idValue:string,oldclass:string,newclass:string)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet element = document.getElementById(idValue);\n\t\t\tif(element)\n\t\t\t{\n\t\t\t\telement.classList.toggle(oldclass);\n\t\t\t\telement.classList.toggle(newclass);\n\t\t\t}\n\t\t\telement = document.getElementById('msabeesesheader');\n\t\t\tif(element)\n\t\t\t{\n\t\t\t\telement.classList.toggle('none');\n\t\t\t}\n\t\t\telement = document.getElementById('msabeesesheader2');\n\t\t\tif(element)\n\t\t\t{\n\t\t\t\telement.classList.toggle('none');\n\t\t\t\telement.classList.toggle('gridheader');\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t}\n\t\tcatch(err)\n\t\t{\n\t\t\t\n\t\t}\n\t}\n\t\n\tinputCheckBoxChange(source:any,table:any,index2:number)\n\t{\n\t\t//table.columns.indexOf(index2)>=0?table.columns.splice(index2,1):table.columns.push(index2);console.log(table);\n\t\t\n\t\tif(!source.srcElement.checked)\n\t\t{\n\t\t\tlet indexFound = table.columns.indexOf(index2);\n\t\t\tif(indexFound >=0)\n\t\t\t{\n\t\t\t\ttable.columns.splice(indexFound,1);\n\t\t\t\ttable.functions.splice(indexFound,1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\t\n\t\t\tif(table.columns.indexOf(index2)<0)\n\t\t\t{\n\t\t\t\ttable.columns.push(index2);\n\t\t\t\ttable.functions.push({name:undefined,subFunctions:[]})\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\tasync generateFile()\n\t{\n\t\tconsole.log(\"generating file\");\n\t\tlet wb = this.xcelService.createWorkBook(this.data.userAuthentification.Prenom +\" \"+this.data.userAuthentification.Nom);\n\t\tlet ws = this.xcelService.addWorkSheet(this.data.base.tables[this.selectedID].name+\" Acceuil\",wb);\n\t\tthis.xcelService.addHeadersToWorkSheet(ws,this.data.base.tables[this.selectedID].headers);\n\t\tthis.xcelService.writeAllRowValuesFor1DArray(ws,this.data.base.tables[this.selectedID].rows,this.data.base.tables[this.selectedID].headers.length);\n\t\tawait this.xcelService.saveWorkBookIntoFile(wb,this.data.base.tables[this.selectedID].name);\n\t}\n\t\n}\n\ninterface responsa \n{\n\tcustomtext: string;\n\tthird?: boolean;\n\ttext?:string;\n\tcomeBack?:boolean;\n\tBox?: any;\n\tPos?: any;\n}\n\ninterface rowInterface\n{\n\tvalues: string[];\n\tresponseString: string;\n\tclass: string;\n\tdone: boolean;\n\tindex: number;\n\tflipped:boolean;\n\tsubmitting:boolean;\n}\n\ninterface AllRowsContainer\n{\n\tindexofSelection: number;\n\telements: rowInterface[];\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}